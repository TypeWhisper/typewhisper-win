<Window x:Class="TypeWhisper.Windows.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TypeWhisper - Einstellungen"
        MinWidth="800"
        MinHeight="500"
        Width="900"
        Height="600"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        Background="Transparent">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="40"
                      CornerRadius="10"
                      GlassFrameThickness="-1"
                      ResizeBorderThickness="6"/>
    </WindowChrome.WindowChrome>

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/UnifiedSettingsStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <BooleanToVisibilityConverter x:Key="BoolToVis"/>
        </ResourceDictionary>
    </Window.Resources>

    <Border x:Name="RootBorder"
            Background="#1E1E1E"
            CornerRadius="10">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="12" ShadowDepth="2" Opacity="0.4"/>
        </Border.Effect>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Custom Title Bar -->
            <Grid Grid.Row="0" Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="180"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Title in Sidebar area -->
                <TextBlock Grid.Column="0"
                           Text="Einstellungen"
                           Foreground="#AAFFFFFF"
                           FontSize="12"
                           FontWeight="Medium"
                           VerticalAlignment="Center"
                           Margin="16,0,0,0"/>

                <!-- Window Control Buttons -->
                <StackPanel Grid.Column="2"
                            Orientation="Horizontal"
                            WindowChrome.IsHitTestVisibleInChrome="True"
                            Margin="0,0,4,0">
                    <Button x:Name="MinimizeButton"
                            Style="{StaticResource WindowControlButtonStyle}"
                            Click="MinimizeButton_Click"
                            ToolTip="Minimieren">
                        <TextBlock Text="&#xE949;"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="10"/>
                    </Button>
                    <Button x:Name="CloseButton"
                            Style="{StaticResource WindowCloseButtonStyle}"
                            Click="CloseButton_Click"
                            ToolTip="Schliessen">
                        <TextBlock Text="&#xE8BB;"
                                   FontFamily="Segoe MDL2 Assets"
                                   FontSize="10"/>
                    </Button>
                </StackPanel>
            </Grid>

            <!-- Main Content -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="180"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Sidebar -->
                <Border Grid.Column="0" Background="#18FFFFFF">
                    <StackPanel Margin="0,8,0,0">
                        <Button Content="Dashboard"
                                Command="{Binding NavigateCommand}" CommandParameter="Dashboard">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Dashboard">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Allgemein"
                                Command="{Binding NavigateCommand}" CommandParameter="Allgemein">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Allgemein">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Aufnahme"
                                Command="{Binding NavigateCommand}" CommandParameter="Aufnahme">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Aufnahme">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <!-- Separator -->
                        <Border Height="1" Background="#15FFFFFF" Margin="16,12"/>

                        <Button Content="Modelle"
                                Command="{Binding NavigateCommand}" CommandParameter="Modelle">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Modelle">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Profile"
                                Command="{Binding NavigateCommand}" CommandParameter="Profile">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Profile">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Wörterbuch"
                                Command="{Binding NavigateCommand}" CommandParameter="Wörterbuch">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Wörterbuch">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Snippets"
                                Command="{Binding NavigateCommand}" CommandParameter="Snippets">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Snippets">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Content="Erweiterungen"
                                Command="{Binding NavigateCommand}" CommandParameter="Erweiterungen">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Erweiterungen">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <!-- Separator -->
                        <Border Height="1" Background="#15FFFFFF" Margin="16,12"/>

                        <Button Content="Verlauf"
                                Command="{Binding NavigateCommand}" CommandParameter="Verlauf">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Verlauf">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <!-- Separator -->
                        <Border Height="1" Background="#15FFFFFF" Margin="16,12"/>

                        <Button Content="Info"
                                Command="{Binding NavigateCommand}" CommandParameter="Info">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource SidebarButtonStyle}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CurrentSectionName}" Value="Info">
                                            <Setter Property="Background" Value="{StaticResource SidebarActiveBrush}"/>
                                            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </StackPanel>
                </Border>

                <!-- Sidebar/Content separator -->
                <Border Grid.Column="0"
                        HorizontalAlignment="Right"
                        Width="1"
                        Background="#15FFFFFF"/>

                <!-- Content Area -->
                <ContentControl Grid.Column="1"
                                Content="{Binding CurrentSection}"/>
            </Grid>
        </Grid>
    </Border>
</Window>
